<!DOCTYPE html>
< lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
</head>
<body>
   <h1> Chatting </h1>
   <!-- <button onclick="createConnection()">Create WS Connection</button> -->
    <input type="text" id="message" placeholder="Enter message"/>
    <button id="sendButton">Send</button>
    <div id="messages" ></div>
</body>
<script src="/socket.io/socket.io.js"></script>
<script>
     const socket = io();
    // function createConnection(){
       
    // }
    const sendButton = document.getElementById('sendButton');
    const messageInput = document.getElementById('message');
    const allMessages = document.getElementById('messages');
    socket.on('message', message=>{
        const p = document.createElement('p');
        p.innerText=message;
        allMessages.appendChild(p);
    })
    sendButton.addEventListener('click', e=>{
        const message = messageInput.value;
        console.log(message);
        socket.emit('user-message',message)
    })
</script>
</html>